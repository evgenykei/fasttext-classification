# fasttext-classification
API-сервис с веб-интерфейсом для классификации текстов на основе библиотеки FastText

## Установка

Установите FastText https://github.com/facebookresearch/fastText

В корневой директории создайте файл '.env' и задайте порт для работы сервиса и путь к библиотеке FastText, либо задайте их через переменные окружения (environment variables).

```bash
# Path to FastText library
FASTTEXT_PATH = '/srv/fasttext/fasttext'

# Express port
PORT = 3003
```

Создайте директорию *training_data* с обучающим файлом *training.json* со следующей структурой:

```bash
[
  {
    "class": "greeting",
    "text": "добрый день",
    "checked": true
  }
]
```

Где:
- class - класс, к которому принадлежит фраза
- text - текст классифицируемой фразы
- checked - флаг для веб-интерфейса, обозначающий прошла ли фраза проверку

## Запуск

```bash
node index
```

Обучение выполняется при запуске сервера и при изменении файла *training.json* согласно таймеру, указанному в конфигурации.
Конфигурация расположена в директории *config*. В ней можно задать пути к файлам обучения, настроить таймер переобучения, а также настроить параметры обучения (для подробностей см. https://github.com/facebookresearch/fastText). 

## Маршруты API

- **[GET]  /** - доступ к веб-интерфейсу для редактирования файла обучения
- **[GET]  /api/trainingData** - получение файла обучения в JSON формате
- **[POST] /api/trainingData** - загрузка файла обучения
- **[GET]  /api/train** - запуск обучения
- **[GET]  /api/predict/[text]** - классификация введенной фразы
